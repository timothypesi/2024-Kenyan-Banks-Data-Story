!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kenya's Banking Revolution: How Digital Innovation is Reshaping Finance by visual-data-insights</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Source+Sans+Pro:wght@400;600&display=swap" rel="stylesheet">
  <meta name="description" content="Explore Kenya's banking evolution through data-driven insights on top performers, digital transformation, and financial inclusion success stories.">
  <style>
    body, html {
      margin: 0;
      padding: 0;
      overflow-x: hidden;
      scroll-behavior: smooth;
      font-family: 'Source Sans Pro', sans-serif;
      background: #ffffff;
      color: #222;
    }
  
    /* Hero Header Section */
    .hero {
      height: 100vh;
      width: 100%;
      background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.5)), url('https://images.unsplash.com/photo-1622372738946-62e02505feb3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1632&q=80') center/cover no-repeat;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      color: white;
      padding: 0 20px;
      position: relative;
    }
    
    .hero h1 {
      font-family: 'Playfair Display', serif;
      font-size: 3.5rem;
      margin-bottom: 1rem;
      letter-spacing: 1px;
      max-width: 800px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.3);
      opacity: 0;
      transform: translateY(30px);
      animation: fadeInUp 1s ease forwards 0.5s;
    }
    
    .hero p {
      font-size: 1.2rem;
      max-width: 700px;
      margin-bottom: 2rem;
      line-height: 1.6;
      text-shadow: 0 1px 3px rgba(0,0,0,0.3);
      opacity: 0;
      transform: translateY(30px);
      animation: fadeInUp 1s ease forwards 1s;
    }
    
    .hero-badge {
      background-color: #2563eb;
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      font-weight: 600;
      margin-bottom: 20px;
      font-size: 14px;
      letter-spacing: 1px;
      text-transform: uppercase;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      opacity: 0;
      transform: translateY(30px);
      animation: fadeInUp 1s ease forwards;
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes fadeInLeft {
      from {
        opacity: 0;
        transform: translateX(-30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    @keyframes fadeInRight {
      from {
        opacity: 0;
        transform: translateX(30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    @keyframes scaleIn {
      from {
        opacity: 0;
        transform: scale(0.8);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    
    @keyframes progressBar {
      from {
        width: 0;
      }
      to {
        width: 100%;
      }
    }
    
    .scroll-prompt {
      position: absolute;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      animation: bounce 2s infinite;
      cursor: pointer;
      opacity: 0;
      animation: bounce 2s infinite 1.5s, fadeInUp 1s ease forwards 1.5s;
    }
    
    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translateY(0) translateX(-50%); }
      40% { transform: translateY(-20px) translateX(-50%); }
      60% { transform: translateY(-10px) translateX(-50%); }
    }
    
    /* Story Progress Indicator */
    .story-progress {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: rgba(37, 99, 235, 0.2);
      z-index: 1000;
    }
    
    .story-progress-bar {
      height: 100%;
      width: 0;
      background: #2563eb;
      transition: width 0.3s;
    }
    
    /* Step Indicator */
    .step-indicator {
      position: fixed;
      left: 20px;
      top: 50%;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      align-items: center;
      z-index: 1000;
    }
    
    .step-line {
      width: 2px;
      height: 300px;
      background: #e5e7eb;
      position: relative;
    }
    
    .step-progress {
      width: 100%;
      background: #2563eb;
      position: absolute;
      bottom: 0;
      transition: height 0.3s ease;
    }
    
    .step-markers {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      height: 100%;
    }
    
    .step-marker {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #e5e7eb;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      transition: all 0.3s ease;
    }
    
    .step-marker.active {
      background: #2563eb;
      transform: translateX(-50%) scale(1.5);
    }
    
    .step-marker::after {
      content: attr(data-label);
      position: absolute;
      left: 24px;
      top: 50%;
      transform: translateY(-50%);
      white-space: nowrap;
      font-size: 12px;
      color: #6b7280;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .step-marker.active::after {
      opacity: 1;
      color: #2563eb;
      font-weight: bold;
    }
    
    /* Narrative introduction */
    .narrative-intro {
      padding: 100px 20px;
      max-width: 900px;
      margin: 0 auto;
      text-align: center;
    }
    
    .narrative-intro h2 {
      font-family: 'Playfair Display', serif;
      font-size: 2.2rem;
      margin-bottom: 1.5rem;
      color: #111;
      opacity: 0;
      transform: translateY(30px);
    }
    
    .narrative-intro p {
      font-size: 1.1rem;
      line-height: 1.8;
      color: #444;
      margin-bottom: 1rem;
      opacity: 0;
      transform: translateY(30px);
    }
    
    .narrative-intro.show h2 {
      animation: fadeInUp 1s ease forwards;
    }
    
    .narrative-intro.show p:nth-child(2) {
      animation: fadeInUp 1s ease forwards 0.3s;
    }
    
    .narrative-intro.show p:nth-child(3) {
      animation: fadeInUp 1s ease forwards 0.6s;
    }
  
    section {
      position: relative;
      min-height: 100vh;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: row;
      padding: 80px 40px;
      gap: 40px;
      overflow: hidden;
    }
    
    section .text-content,
    section .image-content {
      opacity: 0;
    }
    
    section.show .text-content {
      animation: fadeInLeft 1s ease forwards;
    }
    
    section.show .image-content {
      animation: fadeInRight 1s ease forwards 0.5s;
    } 
  
    .text-content {
      flex: 1;
      max-width: 600px;
    }
  
    .text-content h4 {
      color: #888;
      text-transform: uppercase;
      font-size: 14px;
      margin-bottom: 10px;
      letter-spacing: 1px;
      font-weight: 600;
      opacity: 0;
    }
  
    .text-content h1 {
      font-family: 'Playfair Display', serif;
      font-size: 40px;
      color: #111;
      margin-bottom: 20px;
      line-height: 1.2;
      opacity: 0;
    }
  
    .badge {
      display: inline-block;
      background-color: #d1fae5;
      color: #065f46;
      padding: 6px 12px;
      margin-bottom: 20px;
      font-weight: 600;
      border-radius: 20px;
      font-size: 13px;
      opacity: 0;
    }
  
    .author {
      font-weight: bold;
      margin-bottom: 10px;
      font-size: 15px;
      color: #555;
      opacity: 0;
    }
  
    .description {
      font-size: 18px;
      color: #555;
      margin-bottom: 20px;
      line-height: 1.6;
      opacity: 0;
    }
  
    .read-more {
      color: #1d4ed8;
      font-weight: bold;
      text-decoration: underline;
      cursor: pointer;
      font-size: 16px;
      opacity: 0;
    }
    
    section.show .text-content h4 {
      animation: fadeInUp 0.6s ease forwards 0.1s;
    }
    
    section.show .badge {
      animation: fadeInUp 0.6s ease forwards 0.2s;
    }
    
    section.show .text-content h1 {
      animation: fadeInUp 0.6s ease forwards 0.3s;
    }
    
    section.show .author {
      animation: fadeInUp 0.6s ease forwards 0.4s;
    }
    
    section.show .description {
      animation: fadeInUp 0.6s ease forwards 0.5s;
    }
    
    section.show .read-more {
      animation: fadeInUp 0.6s ease forwards 0.6s;
    }
  
    .image-content {
      flex: 1;
      background-color: #f9fafb;
      padding: 20px;
      text-align: center;
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
      max-width: 500px;
      transition: transform 0.5s ease;
    }
    
    section.show .image-content {
      animation: scaleIn 0.8s ease forwards 0.7s;
    }
  
    .image-content img {
      width: 100%;
      height: auto;
      border-radius: 8px;
      opacity: 0;
      transform: scale(0.9);
      transition: all 0.8s ease;
    }
    
    section.show .image-content img {
      opacity: 1;
      transform: scale(1);
      transition-delay: 0.9s;
    }
    
    /* Progress bars and charts animation */
    .progress-bar {
      width: 0;
      transition: width 1.5s ease;
    }
    
    section.show .progress-bar {
      width: 100%;
    }
    
    /* Story connectors */
    .connector {
      height: 100px;
      background: linear-gradient(90deg, #f3f4f6 20%, #e5e7eb 50%, #f3f4f6 80%);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0 20px;
      text-align: center;
      font-style: italic;
      color: #4b5563;
      font-size: 1.1rem;
      line-height: 1.6;
      border-left: 3px solid #2563eb;
      margin: 0;
      position: relative;
      overflow: hidden;
    }
    
    .connector::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 5px;
      background: #2563eb;
      transform: translateX(-100%);
      transition: transform 0.5s ease;
    }
    
    .connector.show::before {
      transform: translateX(0);
    }
    
    .connector span {
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.6s ease;
      display: block;
    }
    
    .connector.show span {
      opacity: 1;
      transform: translateY(0);
    }
    
    /* Section transition effects */
    .section-transition {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to right, rgba(255,255,255,0), rgba(255,255,255,0.8), rgba(255,255,255,0));
      transform: translateX(-100%);
      z-index: 10;
      pointer-events: none;
      transition: transform 0.8s ease;
    }
    
    section.show .section-transition {
      transform: translateX(100%);
    }
    
    /* Advanced scroll prompt */
    .advanced-scroll-prompt {
      position: absolute;
      bottom: -50px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      flex-direction: column;
      align-items: center;
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    
    section.show .advanced-scroll-prompt {
      opacity: 1;
    }
    
    .scroll-arrow {
      width: 30px;
      height: 30px;
      border: 2px solid #2563eb;
      border-radius: 50%;
      position: relative;
      animation: scrollBounce 2s infinite;
    }
    
    .scroll-arrow::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -25%) rotate(45deg);
      width: 8px;
      height: 8px;
      border-right: 2px solid #2563eb;
      border-bottom: 2px solid #2563eb;
    }
    
    @keyframes scrollBounce {
      0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
      40% { transform: translateY(-10px); }
      60% { transform: translateY(-5px); }
    }
    
    .scroll-text {
      font-size: 12px;
      margin-top: 8px;
      color: #2563eb;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    /* Bank stats animation */
    .bank-stat-row {
      opacity: 0;
      transform: translateY(10px);
      transition: all 0.5s ease;
    }
    
    section.show .bank-stat-row:nth-child(1) {
      opacity: 1;
      transform: translateY(0);
      transition-delay: 0.7s;
    }
    
    section.show .bank-stat-row:nth-child(2) {
      opacity: 1;
      transform: translateY(0);
      transition-delay: 0.8s;
    }
    
    section.show .bank-stat-row:nth-child(3) {
      opacity: 1;
      transform: translateY(0);
      transition-delay: 0.9s;
    }
    
    section.show .bank-stat-row:nth-child(4) {
      opacity: 1;
      transform: translateY(0);
      transition-delay: 1s;
    }
    
    section.show .bank-stat-row:nth-child(5) {
      opacity: 1;
      transform: translateY(0);
      transition-delay: 1.1s;
    }
    
    /* Conclusion section */
    .conclusion {
      padding: 100px 20px;
      background-color: #1e3a8a;
      color: white;
      text-align: center;
    }
    
    .conclusion h2 {
      font-family: 'Playfair Display', serif;
      font-size: 2.5rem;
      margin-bottom: 1.5rem;
      opacity: 0;
      transform: translateY(30px);
    }
    
    .conclusion p {
      max-width: 800px;
      margin: 0 auto 2rem;
      font-size: 1.1rem;
      line-height: 1.8;
      opacity: 0;
      transform: translateY(30px);
    }
    
    .conclusion.show h2 {
      animation: fadeInUp 1s ease forwards;
    }
    
    .conclusion.show p {
      animation: fadeInUp 1s ease forwards 0.3s;
    }
    
    .cta-button {
      display: inline-block;
      background-color: white;
      color: #1e3a8a;
      padding: 12px 24px;
      border-radius: 30px;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.3s ease;
      opacity: 0;
      transform: translateY(30px);
    }
    
    .conclusion.show .cta-button {
      animation: fadeInUp 1s ease forwards 0.6s;
    }
    
    .cta-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
    }
  
    @media (max-width: 768px) {
      section {
        flex-direction: column;
        padding: 40px 20px;
      }
      .text-content, .image-content {
        max-width: 100%;
      }
      .hero h1 {
        font-size: 2.5rem;
      }
      .text-content h1 {
        font-size: 32px;
      }
      .step-indicator {
        display: none;
      }
    }
  
    /* Efficiency bars animation */
    .efficiency-bar {
      width: 0;
      transition: width 1.5s ease;
    }
    
    section.show .efficiency-bar {
      width: 100%;
    }
  </style>
</head>
<body>
<!-- Story Progress Indicator -->
<div class="story-progress">
  <div class="story-progress-bar" id="progressBar"></div>
</div>

<!-- Step Indicator -->
<div class="step-indicator">
  <div class="step-line">
    <div class="step-progress" id="stepProgress"></div>
    <div class="step-markers">
      <div class="step-marker active" style="top: 0%" data-section="hero" data-label="Intro"></div>
      <div class="step-marker" style="top: 20%" data-section="section1" data-label="Assets"></div>
      <div class="step-marker" style="top: 40%" data-section="section2" data-label="Revenue"></div>
      <div class="step-marker" style="top: 60%" data-section="section3" data-label="Efficiency"></div>
      <div class="step-marker" style="top: 80%" data-section="section4" data-label="Loans"></div>
      <div class="step-marker" style="top: 100%" data-section="section5" data-label="Profits"></div>
    </div>
  </div>
</div>

<!-- Hero Section -->
<div class="hero" id="hero">
  <div class="hero-badge">Financial Evolution</div>
  <h1>Kenya's Banking Revolution: Digital Titans Transforming Finance</h1>
  <p>How mobile money pioneers and digital innovators are rewriting the rules of banking in Africa's most dynamic financial market</p>
  <a href="#intro" class="scroll-prompt">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  </a>
</div>

<!-- Narrative Introduction -->
<div class="narrative-intro" id="intro">
  <h2>The Digital Banking Disruption</h2>
  <p>In just fifteen years, Kenya's banking sector has undergone a transformation that took decades in other markets. From the mobile money revolution sparked by M-Pesa to today's AI-powered banking apps, Kenyan financial institutions are pioneering models that the world watches closely.</p>
  <p>This is the story of who's leading, who's adapting, and who risks being left behind in Africa's most innovative banking market.</p>
  <div class="advanced-scroll-prompt">
    <div class="scroll-arrow"></div>
    <div class="scroll-text">Scroll to Explore</div>
  </div>
</div>

<!-- Section 1: Asset Size -->
<div class="connector" id="connector1">
  <span>In the world of banking, size matters—but not in the way you might think</span>
</div>

<section id="section1" class="section-asset">
  <div class="section-transition"></div>
  <div class="text-content">
    <h4>Assets Ranking</h4>
    <div class="badge">Bank Size</div>
    <h1>The Heavyweights: Who Holds Kenya's Money?</h1>
    <div class="author">By Timothy Pesi | Visual Data Insights</div>
    <div class="description">
      KCB Group's acquisition spree has made it Kenya's largest bank by assets (KSh 1.9 trillion), but Equity Bank's digital-first approach shows that agility can compete with scale. The surprise? Cooperative Bank's steady climb to third place, proving member-owned models can thrive in commercial banking.
    </div>
    <a class="read-more" href="https://www.visual-data-insights.com/post/kenya-s-big-banks-who-s-leading-the-asset-race-in-2024" target="_blank" rel="noopener noreferrer">View full ranking data</a>
  </div>
  <div class="image-content">
    <img src="https://raw.githubusercontent.com/timothypesi/Data-Stories/main/Group%20206%20%281%29.svg" alt="Asset Size Chart">
    <div class="advanced-scroll-prompt">
      <div class="scroll-arrow"></div>
      <div class="scroll-text">Continue</div>
    </div>
  </div>
</section>

<!-- Section 2: Non-Funded Income -->
<div class="connector">The smartest banks aren't just lending—they're building diverse revenue streams</div>

<section id="section2">
  <div class="text-content">
    <h4>Non-Funded Income</h4>
    <div class="badge">Diversified Earnings</div>
    <h1>Beyond Loans: The Fee Revolution</h1>
    <div class="description">
      NCBA's 45% non-funded income ratio reveals a banking future where transaction fees, forex earnings, and digital services matter as much as loans. Meanwhile, Equity's mobile banking platform now processes more transactions than some European banks, generating fees that cushion against loan defaults.
    </div>
    <a class="read-more" href="https://www.visual-data-insights.com/post/how-kenyan-banks-earned-beyond-lending-2024">Explore non-funded income stats</a>
  </div>
  <div class="image-content">
    <div style="font-family: 'Open Sans', sans-serif; width: 100%; max-width: 300px; margin: 0 auto; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
      <div style="font-size: 16px; font-weight: bold; margin-bottom: 5px; color: #333;">How Much Kenyan Banks Earn Beyond Lending</div>
      <div style="font-size: 12px; color: #666; margin-bottom: 15px;">Highlight: NCBA's non-funded income accounts for 45% of total operating income in FY 2024.</div>
      
      <div style="display: flex; margin-bottom: 5px;">
        <div style="width: 60%; font-size: 12px; font-weight: bold;">Bank</div>
        <div style="width: 20%; font-size: 12px; font-weight: bold; text-align: right;">Income (KSh Bn)</div>
        <div style="width: 20%; font-size: 12px; font-weight: bold; text-align: right;">NFI %</div>
      </div>
      
      <!-- NCBA Row -->
      <div style="display: flex; margin-bottom: 8px; background: #f0f5ff; padding: 5px; border-radius: 4px;">
        <div style="width: 60%; font-size: 12px;">NCBA</div>
        <div style="width: 20%; font-size: 12px; text-align: right;">62.7</div>
        <div style="width: 20%; font-size: 12px; text-align: right; font-weight: bold; color: #2563eb;">45%</div>
      </div>
      
      <!-- Other Banks -->
      <div style="display: flex; margin-bottom: 5px; padding: 5px;">
        <div style="width: 60%; font-size: 12px;">Equity</div>
        <div style="width: 20%; font-size: 12px; text-align: right;">194</div>
        <div style="width: 20%; font-size: 12px; text-align: right;">44%</div>
      </div>
      
      <div style="display: flex; margin-bottom: 5px; padding: 5px;">
        <div style="width: 60%; font-size: 12px;">KCB</div>
        <div style="width: 20%; font-size: 12px; text-align: right;">205</div>
        <div style="width: 20%; font-size: 12px; text-align: right;">33%</div>
      </div>
      
      <div style="display: flex; margin-bottom: 5px; padding: 5px;">
        <div style="width: 60%; font-size: 12px;">Co-op</div>
        <div style="width: 20%; font-size: 12px; text-align: right;">81</div>
        <div style="width: 20%; font-size: 12px; text-align: right;">36%</div>
      </div>
      
      <div style="display: flex; margin-bottom: 5px; padding: 5px;">
        <div style="width: 60%; font-size: 12px;">ABSA</div>
        <div style="width: 20%; font-size: 12px; text-align: right;">62</div>
        <div style="width: 20%; font-size: 12px; text-align: right;">26%</div>
      </div>
      
      <div style="font-size: 10px; color: #999; margin-top: 15px; border-top: 1px solid #eee; padding-top: 5px;">
        Source: Financial Statements for the Year Ended 2024 | NFI = Non-Funded Income
      </div>
    </div>
  </div>
</section>

<!-- Section 3: Efficiency (Updated Version with Your New Data) -->
<div class="connector">In the digital age, efficiency separates the winners from the strugglers</div>

<section id="section3">
  <div class="text-content">
    <h4>Efficiency</h4>
    <div class="badge">Cost vs Income</div>
    <h1>The Lean Machines: Doing More With Less</h1>
    <div class="description">
      ABSA leads the cost-to-income race at an impressive 37.7%, closely followed by StanChart and Stanbic. Meanwhile, industry giants like KCB and Co-op maintain respectable efficiency. However, higher ratios at Equity and HF show that size alone doesn't guarantee lean operations. In Kenya's tightening economy, cost discipline is becoming the new competitive advantage.
    </div>
    <a class="read-more" href="https://www.visual-data-insights.com/post/kenyan-banks-in-2024-who-s-leading-the-efficiency-race">Analyze efficiency metrics</a>
  </div>

  <div class="image-content">
    <div style="font-family: 'Open Sans', sans-serif; width: 100%; max-width: 300px; margin: 0 auto; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
      <div style="font-size: 16px; font-weight: bold; margin-bottom: 15px; color: #333;">Bank Cost Efficiency 2024</div>

      <!-- Updated Efficiency Bars -->
      <div style="margin-bottom: 20px;">
        <!-- ABSA -->
        <div style="display: flex; align-items: center; margin-bottom: 8px;">
          <div style="width: 100px; font-size: 12px;">ABSA</div>
          <div style="flex-grow: 1; background: #e5e7eb; height: 16px; border-radius: 10px; overflow: hidden;">
            <div style="width: 37.7%; background: #10b981; height: 100%;"></div>
          </div>
          <div style="width: 40px; font-size: 12px; text-align: right;">37.7%</div>
        </div>

        <!-- StanChar -->
        <div style="display: flex; align-items: center; margin-bottom: 8px;">
          <div style="width: 100px; font-size: 12px;">StanChar</div>
          <div style="flex-grow: 1; background: #e5e7eb; height: 16px; border-radius: 10px; overflow: hidden;">
            <div style="width: 39.6%; background: #10b981; height: 100%;"></div>
          </div>
          <div style="width: 40px; font-size: 12px; text-align: right;">39.6%</div>
        </div>

        <!-- Stanbic -->
        <div style="display: flex; align-items: center; margin-bottom: 8px;">
          <div style="width: 100px; font-size: 12px;">Stanbic</div>
          <div style="flex-grow: 1; background: #e5e7eb; height: 16px; border-radius: 10px; overflow: hidden;">
            <div style="width: 44.5%; background: #10b981; height: 100%;"></div>
          </div>
          <div style="width: 40px; font-size: 12px; text-align: right;">44.5%</div>
        </div>

        <!-- KCB -->
        <div style="display: flex; align-items: center; margin-bottom: 8px;">
          <div style="width: 100px; font-size: 12px;">KCB</div>
          <div style="flex-grow: 1; background: #e5e7eb; height: 16px; border-radius: 10px; overflow: hidden;">
            <div style="width: 45.4%; background: #10b981; height: 100%;"></div>
          </div>
          <div style="width: 40px; font-size: 12px; text-align: right;">45.4%</div>
        </div>

        <!-- I&M -->
        <div style="display: flex; align-items: center; margin-bottom: 8px;">
          <div style="width: 100px; font-size: 12px;">I&M</div>
          <div style="flex-grow: 1; background: #e5e7eb; height: 16px; border-radius: 10px; overflow: hidden;">
            <div style="width: 45.9%; background: #f59e0b; height: 100%;"></div>
          </div>
          <div style="width: 40px; font-size: 12px; text-align: right;">45.9%</div>
        </div>

        <!-- Co-op -->
        <div style="display: flex; align-items: center; margin-bottom: 8px;">
          <div style="width: 100px; font-size: 12px;">Co-op</div>
          <div style="flex-grow: 1; background: #e5e7eb; height: 16px; border-radius: 10px; overflow: hidden;">
            <div style="width: 47.2%; background: #f59e0b; height: 100%;"></div>
          </div>
          <div style="width: 40px; font-size: 12px; text-align: right;">47.2%</div>
        </div>

        <!-- NCBA -->
        <div style="display: flex; align-items: center; margin-bottom: 8px;">
          <div style="width: 100px; font-size: 12px;">NCBA</div>
          <div style="flex-grow: 1; background: #e5e7eb; height: 16px; border-radius: 10px; overflow: hidden;">
            <div style="width: 51.3%; background: #f59e0b; height: 100%;"></div>
          </div>
          <div style="width: 40px; font-size: 12px; text-align: right;">51.3%</div>
        </div>

        <!-- DTB -->
        <div style="display: flex; align-items: center; margin-bottom: 8px;">
          <div style="width: 100px; font-size: 12px;">DTB</div>
          <div style="flex-grow: 1; background: #e5e7eb; height: 16px; border-radius: 10px; overflow: hidden;">
            <div style="width: 51.8%; background: #f59e0b; height: 100%;"></div>
          </div>
          <div style="width: 40px; font-size: 12px; text-align: right;">51.8%</div>
        </div>

        <!-- Equity -->
        <div style="display: flex; align-items: center; margin-bottom: 8px;">
          <div style="width: 100px; font-size: 12px;">Equity</div>
          <div style="flex-grow: 1; background: #e5e7eb; height: 16px; border-radius: 10px; overflow: hidden;">
            <div style="width: 58.2%; background: #ef4444; height: 100%;"></div>
          </div>
          <div style="width: 40px; font-size: 12px; text-align: right;">58.2%</div>
        </div>

        <!-- HF -->
        <div style="display: flex; align-items: center;">
          <div style="width: 100px; font-size: 12px;">HF</div>
          <div style="flex-grow: 1; background: #e5e7eb; height: 16px; border-radius: 10px; overflow: hidden;">
            <div style="width: 80.8%; background: #ef4444; height: 100%;"></div>
          </div>
          <div style="width: 40px; font-size: 12px; text-align: right;">80.8%</div>
        </div>
      </div>


      <div style="font-size: 10px; color: #999; margin-top: 15px; border-top: 1px solid #eee; padding-top: 5px;">
        Source: Financial Statements for the Year Ended 2024 | Lower ratios indicate better efficiency
      </div>
    </div>
  </div>
</section>

<!-- Section 4: Loan Quality -->
<div class="connector" id="connector4">
  <span>The pandemic taught Kenyan banks a painful lesson about loan quality</span>
</div>

<section id="section4" class="section-loans">
  <div class="section-transition"></div>
  <div class="text-content">
    <h4>Loan Book vs NPLs</h4>
    <div class="badge">Credit Risk</div>
    <h1>Walking the Tightrope: Growth vs Risk</h1>
    <div class="description">
      While KCB boasts Kenya's largest loan book (KSh 990B), its 22.8% NPL ratio reveals the cost of aggressive growth. Contrast this with Equity's disciplined approach—maintaining an 14.9% NPL ratio on an KSh 819B portfolio. The lesson? In Kenya's volatile economy, credit discipline matters as much as growth ambition.
    </div>
    <a class="read-more" href="https://www.visual-data-insights.com/post/why-kenyan-banks-are-pulling-back-in-2024">See loan and NPL comparison</a>
  </div>
  <div class="image-content">
    <div style="font-family: 'Open Sans', sans-serif; width: 100%; max-width: 300px; margin: 0 auto; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
      <div style="font-size: 16px; font-weight: bold; margin-bottom: 15px; color: #333;">Loan Quality Comparison 2024</div>
      
      <div style="display: flex; justify-content: space-between; margin-bottom: 20px; opacity: 0; transform: translateY(20px);" class="comparison-cards">
        <div style="width: 48%;">
          <div style="font-size: 14px; font-weight: bold; color: #2563eb; margin-bottom: 10px;">Top by Loan Size</div>
          <div style="background: #f8fafc; padding: 10px; border-radius: 6px;">
            <div style="font-size: 12px; margin-bottom: 5px;">KCB Group</div>
            <div style="font-size: 18px; font-weight: bold; color: #1e40af;">KSh 990B</div>
            <div style="font-size: 12px; color: #ef4444;">NPL: 22.8%</div>
          </div>
        </div>
        
        <div style="width: 48%;">
          <div style="font-size: 14px; font-weight: bold; color: #2563eb; margin-bottom: 10px;">Best NPL Ratio</div>
          <div style="background: #f8fafc; padding: 10px; border-radius: 6px;">
            <div style="font-size: 12px; margin-bottom: 5px;">Stanbic Bank</div>
            <div style="font-size: 18px; font-weight: bold; color: #1e40af;">KSh 230B</div>
            <div style="font-size: 12px; color: #10b981;">NPL: 9.8%</div>
          </div>
        </div>
      </div>
      <div style="margin-bottom: 15px; opacity: 0; transform: translateY(20px);" class="industry-averages">
        <div style="font-size: 12px; margin-bottom: 5px; font-weight: bold;">Industry Averages</div>
        <div style="display: flex; justify-content: space-between; background: #f0f5ff; padding: 8px; border-radius: 4px;">
          <div style="font-size: 12px;">Loan Growth</div>
          <div style="font-size: 12px; font-weight: bold;">-7%</div>
        </div>
        <div style="display: flex; justify-content: space-between; padding: 8px;">
          <div style="font-size: 12px;">Non-Performing Loan Ratio</div>
          <div style="font-size: 12px; font-weight: bold;">15.7%</div>
        </div>
      </div>
      
      <div style="font-size: 12px; color: #666; line-height: 1.5; margin-bottom: 15px; opacity: 0; transform: translateY(20px);" class="key-insight">
        <span style="font-weight: bold;">Key Insight:</span> The -7% growth rate reflects a decrease in the total loans and advances provided by the banks compared to last year.
      </div>
      
      <div style="font-size: 10px; color: #999; border-top: 1px solid #eee; padding-top: 5px;">
        Source: Financial Statements for the Year Ended 2024 | NPL = Non-Performing Loans
      </div>
    </div>
    <div class="advanced-scroll-prompt">
      <div class="scroll-arrow"></div>
      <div class="scroll-text">Final Chapter</div>
    </div>
  </div>
</section>

<!-- Section 5: Profit After Tax -->
<div class="connector" id="connector5">
  <span>At the end of the day, the profits tell the true story of Kenya's digital banking revolution</span>
</div>

<section id="section5" class="section-profits">
  <div class="section-transition"></div>
  <div class="text-content">
    <h4>Profit After Tax</h4>
    <div class="badge">Final Scorecard</div>
    <h1>Profitability: The Ultimate Test</h1>
    <div class="author">By Timothy Pesi</div>
    <div class="description">
      KCB and Equity posted the highest profits in 2024, but smaller players must work smarter to survive the coming waves of disruption. The banks that have invested most heavily in digital transformation are now reaping the rewards with steadily growing bottom lines.
    </div>
    <a class="read-more" href="#">Review Profit After Tax numbers</a>
  </div>
  <div class="image-content">
    <img src="https://raw.githubusercontent.com/timothypesi/Data-Stories/main/Group%20132%20(2).svg" alt="Profit Chart">
    <div class="advanced-scroll-prompt">
      <div class="scroll-arrow"></div>
      <div class="scroll-text">Conclusion</div>
    </div>
  </div>
</section>

<!-- Conclusion Section --> 
<div class="conclusion" id="conclusion">   
    <h2>Kenya's Banking Future: Digital First, Customer Always</h2>   
    <p>Kenya's banking revolution continues to accelerate, with digital transformation separating winners from followers. As we've seen, the most successful banks are those embracing mobile-first strategies, diversifying revenue streams, and maintaining disciplined risk management.</p>   
    <p>What's next? Watch for AI-powered customer service, blockchain-based payments, and deeper financial inclusion initiatives as Kenyan banks continue writing the playbook for financial innovation in emerging markets.</p>   
    <p class="attribution">Analysis and insights provided by <a href="https://www.visual-data-insights.com"><span style="color: white;">Visual Data Insights</span></a>.</p>
    <a href="https://www.visual-data-insights.com/economics" class="cta-button">Explore Our Full Banking Analysis</a> 
  </div>

<script>
  // Intersection Observer for sections
  const sections = document.querySelectorAll('section, .narrative-intro, .connector, .conclusion');
  const markers = document.querySelectorAll('.step-marker');
  const progressBar = document.getElementById('progressBar');
  const stepProgress = document.getElementById('stepProgress');
  
  // Calculate scroll position for progress bar
  function updateScrollProgress() {
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
    const scrollPercent = (scrollTop / scrollHeight) * 100;
    progressBar.style.width = scrollPercent + '%';
  }
  
  window.addEventListener('scroll', updateScrollProgress);
  
  // Initialize the Intersection Observer to detect when sections are visible
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      // When section comes into view
      if (entry.isIntersecting) {
        entry.target.classList.add('show');
        
        // Update step indicator
        const id = entry.target.getAttribute('id');
        markers.forEach(marker => {
          const section = marker.getAttribute('data-section');
          if (section === id) {
            markers.forEach(m => m.classList.remove('active'));
            marker.classList.add('active');
            
            // Calculate step progress
            const activeIndex = Array.from(markers).findIndex(m => m.classList.contains('active'));
            const progressHeight = (activeIndex / (markers.length - 1)) * 100;
            stepProgress.style.height = progressHeight + '%';
          }
        });
        
        // Animate efficiency bars if they exist in the section
        if (entry.target.querySelectorAll('.efficiency-bar').length > 0) {
          const bars = entry.target.querySelectorAll('.efficiency-bar');
          setTimeout(() => {
            bars.forEach(bar => {
              const width = bar.getAttribute('data-width');
              bar.style.width = width;
            });
          }, 800);
        }
        
        // Animate comparison cards if they exist
        if (entry.target.querySelector('.comparison-cards')) {
          setTimeout(() => {
            entry.target.querySelector('.comparison-cards').style.opacity = '1';
            entry.target.querySelector('.comparison-cards').style.transform = 'translateY(0)';
          }, 800);
        }
        
        // Animate industry averages if they exist
        if (entry.target.querySelector('.industry-averages')) {
          setTimeout(() => {
            entry.target.querySelector('.industry-averages').style.opacity = '1';
            entry.target.querySelector('.industry-averages').style.transform = 'translateY(0)';
          }, 1000);
        }
        
        // Animate key insight if it exists
        if (entry.target.querySelector('.key-insight')) {
          setTimeout(() => {
            entry.target.querySelector('.key-insight').style.opacity = '1';
            entry.target.querySelector('.key-insight').style.transform = 'translateY(0)';
          }, 1200);
        }
      }
    });
  }, { threshold: 0.2 });
  
  // Observe all sections, intro, connectors and conclusion
  sections.forEach(section => {
    observer.observe(section);
  });
  
  // Smooth scroll function for navigation
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
      e.preventDefault();
      const targetId = this.getAttribute('href');
      const targetElement = document.querySelector(targetId);
      
      if (targetElement) {
        targetElement.scrollIntoView({
          behavior: 'smooth'
        });
      }
    });
  });
  
  // Initialize on page load
  window.addEventListener('DOMContentLoaded', () => {
    updateScrollProgress();
    
    // Check which section is initially visible
    const scrollPosition = window.pageYOffset || document.documentElement.scrollTop;
    let activeSection = null;
    
    sections.forEach(section => {
      const sectionTop = section.offsetTop;
      const sectionHeight = section.offsetHeight;
      
      if (scrollPosition >= sectionTop - 200 && scrollPosition < sectionTop + sectionHeight - 200) {
        activeSection = section;
        section.classList.add('show');
      }
    });
    
    // Update step indicator for initial active section
    if (activeSection) {
      const id = activeSection.getAttribute('id');
      markers.forEach(marker => {
        const section = marker.getAttribute('data-section');
        if (section === id) {
          markers.forEach(m => m.classList.remove('active'));
          marker.classList.add('active');
          
          // Calculate step progress
          const activeIndex = Array.from(markers).findIndex(m => m.classList.contains('active'));
          const progressHeight = (activeIndex / (markers.length - 1)) * 100;
          stepProgress.style.height = progressHeight + '%';
        }
      });
    }
  });
</script>